<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Design | Suyash Chitrakar</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/header.css">
  <link rel="stylesheet" href="assets/css/design-grid.css">
</head>
<body>
  <header class="main-header">
    <div class="header-left">
      <a href="index.html" class="site-title">suyash chitrakar</a>
    </div>
    <div class="header-right">
      <div class="dropdown">
        <button class="dropdown-toggle" id="dropdownMenuButton">my work &#x25BC;</button>
        <div class="dropdown-menu" id="dropdownMenu">
          <a href="design.html" class="dropdown-item">design</a>
          <a href="photography.html" class="dropdown-item">photography</a>
          <a href="p5js.html" class="dropdown-item">p5.js</a>
          <a href="gamedesign.html" class="dropdown-item">game design</a>
        </div>
      </div>
    </div>
  </header>
  
  <main class="design-grid-container">
    <div id="loading" class="loading-state">Loading projects...</div>
    <div id="design-grid" class="design-grid">
      <!-- Grid items will be loaded here -->
    </div>
  </main>

  <script src="assets/js/header-dropdown.js"></script>
  
  <script>
    // Project slug mapping for URLs
    const projectSlugs = {
      'Catch Magazine: VOL. 55 NO. 2': 'vol55-2',
      'Catch Magazine: VOL. 56 NO. 1': 'vol56-1', 
      'Catch Magazine: VOL. 56 NO. 2': 'vol56-2',
      'Catch Magazine: VOL. 57 NO. 1 and VOL. 57 NO. 2': 'vol57-double',
      'X-JOURNAL': 'x-journal',
      'Lines in The Shed, Ryan Tracy': 'lines'
    };

    // Cover image mapping
    const coverImages = {
      'Catch Magazine: VOL. 55 NO. 2': 'assets/img/design-cover/vol55-2.png',
      'Catch Magazine: VOL. 56 NO. 1': 'assets/img/design-cover/vol56-1.png',
      'Catch Magazine: VOL. 56 NO. 2': 'assets/img/design-cover/vol56-2.png', 
      'Catch Magazine: VOL. 57 NO. 1 and VOL. 57 NO. 2': 'assets/img/design-cover/vol57-1.png',
      'X-JOURNAL': 'assets/img/design-cover/x.png',
      'Lines in The Shed, Ryan Tracy': 'assets/img/design-cover/lines.jpg'
    };

    async function loadDesignProjects() {
      try {
        const response = await fetch('design-popup/carousel-data.json');
        if (!response.ok) throw new Error('Failed to load projects');
        
        const projects = await response.json();
        const gridContainer = document.getElementById('design-grid');
        const loadingState = document.getElementById('loading');
        
        // Generate grid items
        const gridHTML = projects.map(project => {
          const slug = projectSlugs[project.title];
          const coverImage = coverImages[project.title];
          const projectUrl = `design/${slug}.html`;
          
          return `
            <div class="grid-item">
              <a href="${projectUrl}" class="project-link">
                <div class="project-image">
                  <img src="${coverImage}" alt="${project.title}" loading="lazy">
                  <div class="image-overlay"></div>
                </div>
                <div class="project-info">
                  <h3 class="project-title">${project.title}</h3>
                  <span class="project-year">${project.year}</span>
                </div>
              </a>
            </div>
          `;
        }).join('');
        
        gridContainer.innerHTML = gridHTML;
        loadingState.style.display = 'none';
        
      } catch (error) {
        console.error('Error loading projects:', error);
        document.getElementById('loading').innerHTML = 'Failed to load projects.';
      }
    }

    // Load projects when page loads
    document.addEventListener('DOMContentLoaded', loadDesignProjects);
  </script>
</body>
</html>